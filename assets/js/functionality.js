var C,btns=document.querySelectorAll("#right > div"),queryBar=document.querySelector("#left input");window.data=(C="/elementary/bookmarks.json",new Promise(function(e,t){var n=new XMLHttpRequest;n.open("GET",C,!0),n.responseType="json",n.onload=function(){n.readyState===XMLHttpRequest.DONE&&(200===n.status?e(n.response):t(n.status))},n.send()}));for(var i=0;i<btns.length;i++)btns[i].addEventListener("mouseover",function(e){document.querySelector("#right > .active").classList.remove("active"),this.classList+="active",document.querySelector("#left > .active").classList.remove("active"),document.querySelector("#left > #"+this.getAttribute("id")+"-content").classList+="active"});document.onkeyup=function(e){if(e.shiftKey&&49==e.keyCode){var t=document.querySelector("#right > .active");"search"!==t.getAttribute("id")&&(t.classList.remove("active"),document.querySelector("#right > #search").classList+="active",document.querySelector("#left > .active").classList.remove("active"),document.querySelector("#left > #search-content").classList+="active"),queryBar.focus()}},queryBar.onkeydown=function(e){var a=this;"Enter"==e.key?!function(e){for(var t=["http://","https://","file://"],n=0;n<t.length;n++)if(0==e.indexOf(t[n]))return!0;return!1}(a.value)?!function(e){for(var t=[".com",".org",".io",".net",".ca",".ink"],n=0;n<t.length;n++)if(0<e.indexOf(t[n]))return!0;return!1}(a.value)?0==a.value.indexOf("/r/")||0==a.value.indexOf("r/")?0==a.value.indexOf("/")?window.location.href="https://reddit.com"+a.value:window.location.href="https://reddit.com/"+a.value:0==a.value.indexOf("qw ")?window.location.href="https://lite.qwant.com/?q="+a.value.substring(3,a.length):window.location.href="https://duckduckgo.com/?q="+a.value:window.location.href="https://"+a.value:window.location.href=a.value:9==e.keyCode&&(e.preventDefault(),"ht"==a.value?a.value="https://":window.data.then(function(e){for(var t in e)for(var n in t=e[t])-1<(n=t[n]).url.indexOf(a.value.toLowerCase())&&(a.value=n.url)}))};var $datetime_day=document.querySelector(".datetime-day"),$datetime_time=document.querySelector(".datetime-time");function clock(){var e,t=new Date,n=t.getHours(),a=t.getMinutes(),r=t.getSeconds();switch(n=(n<10?"0":"")+n,a=(a<10?"0":"")+a,r=(r<10?"0":"")+r,t.getDay()){case 0:e="日";break;case 1:e="月";break;case 2:e="火";break;case 3:e="水";break;case 4:e="木";break;case 5:e="金";break;case 6:e="土";break;default:e=" "}if(r%2==0)var o=n+":"+a+":"+r;else o=n+" "+a+" "+r;$datetime_time.innerHTML=o,$datetime_day.innerHTML=e}document.addEventListener("DOMContentLoaded",function(e){window.data.then(function(e){for(var t in e){var n=t,a=document.querySelector("#"+n+"-content .content-container p");for(var r in t=e[t]){var o="<a tabindex='-1' href='"+(r=t[r]).url+"'>"+r.title+"</a> ";a.innerHTML+=o}}}),clock()}),setInterval(clock,1e3);